(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-113b7e9f"],{"02f4":function(t,e,r){var n=r("4588"),i=r("be13");t.exports=function(t){return function(e,r){var a,s,c=String(i(e)),u=n(r),o=c.length;return u<0||u>=o?t?"":void 0:(a=c.charCodeAt(u),a<55296||a>56319||u+1===o||(s=c.charCodeAt(u+1))<56320||s>57343?t?c.charAt(u):a:t?c.slice(u,u+2):s-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,r){"use strict";var n=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,r){"use strict";r("b0c5");var n=r("2aba"),i=r("32e9"),a=r("79e5"),s=r("be13"),c=r("2b4c"),u=r("520a"),o=c("species"),l=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=c(t),d=!a(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),h=d?!a(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[o]=function(){return r}),r[f](""),!e}):void 0;if(!d||!h||"replace"===t&&!l||"split"===t&&!p){var v=/./[f],g=r(s,f,""[t],function(t,e,r,n,i){return e.exec===u?d&&!i?{done:!0,value:v.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),m=g[0],b=g[1];n(String.prototype,t,m),i(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,r){"use strict";var n=r("aae3"),i=r("cb7c"),a=r("ebd6"),s=r("0390"),c=r("9def"),u=r("5f1b"),o=r("520a"),l=r("79e5"),p=Math.min,f=[].push,d="split",h="length",v="lastIndex",g=4294967295,m=!l(function(){RegExp(g,"y")});r("214f")("split",2,function(t,e,r,l){var b;return b="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[h]||2!="ab"[d](/(?:ab)*/)[h]||4!="."[d](/(.?)(.?)/)[h]||"."[d](/()()/)[h]>1||""[d](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);var a,s,c,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,d=void 0===e?g:e>>>0,m=new RegExp(t.source,l+"g");while(a=o.call(m,i)){if(s=m[v],s>p&&(u.push(i.slice(p,a.index)),a[h]>1&&a.index<i[h]&&f.apply(u,a.slice(1)),c=a[0][h],p=s,u[h]>=d))break;m[v]===a.index&&m[v]++}return p===i[h]?!c&&m.test("")||u.push(""):u.push(i.slice(p)),u[h]>d?u.slice(0,d):u}:"0"[d](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,n):b.call(String(i),r,n)},function(t,e){var n=l(b,t,this,e,b!==r);if(n.done)return n.value;var o=i(t),f=String(this),d=a(o,RegExp),h=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"y":"g"),x=new d(m?o:"^(?:"+o.source+")",v),w=void 0===e?g:e>>>0;if(0===w)return[];if(0===f.length)return null===u(x,f)?[f]:[];var k=0,y=0,T=[];while(y<f.length){x.lastIndex=m?y:0;var _,R=u(x,m?f:f.slice(y));if(null===R||(_=p(c(x.lastIndex+(m?0:y)),f.length))===k)y=s(f,y,h);else{if(T.push(f.slice(k,y)),T.length===w)return T;for(var $=1;$<=R.length-1;$++)if(T.push(R[$]),T.length===w)return T;y=k=_}}return T.push(f.slice(k)),T}]})},4268:function(t,e,r){"use strict";var n=r("c807"),i=r.n(n);i.a},"520a":function(t,e,r){"use strict";var n=r("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,s=i,c="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[c]||0!==e[c]}(),o=void 0!==/()??/.exec("")[1],l=u||o;l&&(s=function(t){var e,r,s,l,p=this;return o&&(r=new RegExp("^"+p.source+"$(?!\\s)",n.call(p))),u&&(e=p[c]),s=i.call(p,t),u&&s&&(p[c]=p.global?s.index+s[0].length:e),o&&s&&s.length>1&&a.call(s[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"5f1b":function(t,e,r){"use strict";var n=r("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var a=r.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},aae3:function(t,e,r){var n=r("d3f4"),i=r("2d95"),a=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},b0c5:function(t,e,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},c807:function(t,e,r){},d1ba:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"custom-task"},[r("h1",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem","text-align":"center"}},[t._v(t._s(t.currentTask.title))]),r("div",{staticClass:"title-wrapper"},[r("h3",{staticStyle:{margin:"1rem 0 1rem 0"}},[t._v("任务描述")]),r("p",{staticStyle:{width:"45%","min-width":"400px","max-width":"500px"}},[t._v(t._s(t.currentTask.description))])]),r("div",{staticClass:"limit-wrapper"},[r("h3",{staticStyle:{margin:"1rem 0 1rem 0"}},[t._v("已认领")]),r("p",{staticStyle:{width:"45%","min-width":"400px","max-width":"500px","text-align":"left"}},[t._v(t._s(t.currentTask.assigned)+" / "+t._s(t.currentTask.limit))])]),r("div",{staticClass:"title-wrapper"},[r("h3",{staticStyle:{margin:"1rem 0 0 0"}},[t._v("回答")]),r("Input",{staticStyle:{width:"45%","min-width":"400px","max-width":"500px",margin:"1rem auto"},attrs:{disabled:t.readonly,type:"textarea",size:"large",rows:4,placeholder:"在这里写下你的答案"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),t.currentTask.files&&t.currentTask.files.length?r("div",{staticClass:"file-wrapper"},[r("h3",[t._v("附件")]),r("div",{staticClass:"file-list",staticStyle:{width:"45%","min-width":"400px","max-width":"500px",margin:"5px auto"}},t._l(t.currentTask.files,function(e,n){return r("div",{key:n,staticClass:"file-item"},[r("a",{staticClass:"file-name",attrs:{href:"javascript:;"},on:{click:function(r){return t.download(e)}}},[t._v(t._s(e))])])}),0)]):t._e(),t.readonly?r("div",{staticClass:"submit-btn-wrapper"},[r("Button",{on:{click:t.acceptAndAnswer}},[t._v("接受并开始回答")])],1):r("div",{staticClass:"submit-btn-wrapper"},[r("Button",{on:{click:t.submit}},[t._v("提交")])],1)])},i=[],a=(r("28a5"),r("ac6a"),r("7f7f"),r("c5f6"),r("96cf"),r("3b8d")),s=r("d225"),c=r("b0b4"),u=r("308d"),o=r("6bb5"),l=r("4e2b"),p=r("9ab4"),f=r("60a3"),d=r("9bc5"),h=r("e519"),v=r("afe4"),g=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(u["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.answer="",t.currentTask={id:-1,creator:-1,title:"",description:"",type:"TASK_TYPE_CUSTOM",content:"",reward:0,created_at:"",assigned:1,files:[]},t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"acceptAndAnswer",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("questionnaire/".concat(h["j"]),{task_id:this.$route.params.tid});case 2:e=t.sent,isNaN(Number(e))?this.$Notice.error({title:e.data.msg||"fail"}):this.$router.push({name:"answer-custom-task",params:{aid:e}});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"submit",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.answer.length){t.next=3;break}return this.$Notice.error({title:"答案不能为空"}),t.abrupt("return");case 3:return t.next=5,this.$store.dispatch("assignment/".concat(v["d"]),{aid:this.$route.params.aid,payload:this.answer});case 5:e=t.sent,"OK"===e?this.$Notice.success({title:"success"}):this.$Notice.error({title:e.data.msg||"fail"});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r,n,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("view-custom-task"!==this.$route.name){t.next=7;break}return t.next=3,this.$store.dispatch("task/".concat(d["d"]));case 3:e=this.$store.getters["task/".concat(d["b"])],e.forEach(function(t){String(t.id)===a.$route.params.tid&&(a.currentTask=Object.assign({},t),a.currentTask.files&&"string"===typeof a.currentTask.files&&(a.currentTask.files=a.currentTask.files.split("/"),""===a.currentTask.files[a.currentTask.files.length-1]&&a.currentTask.files.pop()))}),t.next=14;break;case 7:return t.next=9,this.$store.dispatch("assignment/".concat(v["b"]));case 9:r=this.$store.getters["assignment/".concat(v["a"])],n=-1,r.forEach(function(t){String(t.id)===a.$route.params.aid&&(n=t.task_id)}),i=this.$store.getters["task/".concat(d["b"])],i.forEach(function(t){t.id===n&&(a.currentTask=Object.assign({},t),a.currentTask.files&&"string"===typeof a.currentTask.files&&(a.currentTask.files=a.currentTask.files.split("/"),""===a.currentTask.files[a.currentTask.files.length-1]&&a.currentTask.files.pop()))});case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"download",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var r,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("task/".concat(d["f"]),{id:this.currentTask.id,filename:e});case 2:r=t.sent,n=URL.createObjectURL(r),i=document.createElement("a"),i.style.display="none",i.href=n,i.setAttribute("download",e),i.click();case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"readonly",get:function(){return"view-custom-task"===this.$route.name}}]),e}(f["d"]);g=p["a"]([Object(f["a"])({name:"custom-task"})],g);var m=g,b=m,x=(r("4268"),r("2877")),w=Object(x["a"])(b,n,i,!1,null,"21a37b38",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-113b7e9f.1138151c.js.map