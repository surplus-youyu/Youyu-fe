{"version":3,"sources":["webpack:///./src/views/publish/PublishQuestionnaire.vue?1fcb","webpack:///./src/components/QuestionForm.vue?212b","webpack:///./src/components/QuestionForm.vue?9f1d","webpack:///./src/components/QuestionForm.vue?3ebe","webpack:///./src/components/QuestionForm.vue","webpack:///./src/views/publish/PublishQuestionnaire.vue?60b8","webpack:///./src/views/publish/PublishQuestionnaire.vue?8318","webpack:///./src/views/publish/PublishQuestionnaire.vue","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./src/components/QuestionForm.vue?92f4","webpack:///./src/views/publish/PublishQuestionnaire.vue?38e2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","footer-hide","model","value","callback","$$v","showCreaterDialog","expression","inputContent","plainContent","mode","on","createNewQuestion","newQuestionHandler","staticStyle","position","bottom","z-index","type","icon","shape","size","click","createQuestion","margin-top","margin-bottom","text-align","_v","width","min-width","max-width","placeholder","currentQuestionnaire","$set","margin","rows","display","justify-content","prefix","max","min","content","length","height","align-items","vertical-align","_l","idx","key","Math","random","dis-hover","padding","$event","delQuestion","index","modifyQuestion","modifyQuestionHandler","margin-right","showFinishDialog","getQNaireStatics","title","on-ok","finishTask","clear","createQuestionnaire","staticRenderFns","QuestionFormvue_type_template_id_11c2993a_render","ref","label-position","label-width","rules","label","prop","disabled","editAllow","isOptional","options","_e","option","padding-right","padding-left","margin-left","delOption","addNewOption","id","_s","submitQuestion","QuestionFormvue_type_template_id_11c2993a_staticRenderFns","QuestionFormvue_type_script_lang_ts_QuestionForm","_Vue","QuestionForm","_this","Object","classCallCheck","optional","limit","answer","required","message","trigger","validator","rule","Error","inherits","createClass","push","splice","_this2","$refs","questionForm","validate","isValid","$Notice","success","duration","$emit","assign","freeze","_this3","forEach","val","get","set","newVal","vue_property_decorator","tslib_es6","String","Number","name","QuestionFormvue_type_script_lang_ts_","components_QuestionFormvue_type_script_lang_ts_","component","componentNormalizer","components_QuestionForm","PublishQuestionnairevue_type_script_lang_ts_Publish","Publish","questionnaireExisted","publisher_id","summary","bounty","_createQuestionnaire","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","error","abrupt","$store","dispatch","concat","questionnaire_constants","reward","sent","$router","stop","apply","arguments","_mounted","_callee2","_context2","getters","constants","uid","$route","params","aid","mounted","_getQNaireStatics","_callee3","_context3","_finishTask","_callee4","_context4","task_constants","msg","components","PublishQuestionnairevue_type_script_lang_ts_","publish_PublishQuestionnairevue_type_script_lang_ts_","PublishQuestionnaire_component","__webpack_exports__","isObject","__webpack_require__","meta","onFreeze","$freeze","it","META","has","setDesc","f","isExtensible","FREEZE","preventExtensions","setMeta","i","w","fastKey","create","getWeak","NEED","module","exports","KEY","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionForm_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuestionForm_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PublishQuestionnaire_vue_vue_type_style_index_0_id_18eb2e18_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PublishQuestionnaire_vue_vue_type_style_index_0_id_18eb2e18_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-045b7038.a1f8b72f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish-questionnaire\"},[_c('Modal',{attrs:{\"footer-hide\":true},model:{value:(_vm.showCreaterDialog),callback:function ($$v) {_vm.showCreaterDialog=$$v},expression:\"showCreaterDialog\"}},[_c('question-form',{attrs:{\"inputContent\":_vm.plainContent,\"mode\":\"create\"},on:{\"createNewQuestion\":_vm.newQuestionHandler}})],1),_c('div',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"4vh\",\"z-index\":\"100\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"shape\":\"circle\",\"size\":\"large\"},on:{\"click\":_vm.createQuestion}})],1),_c('h1',{staticStyle:{\"margin-top\":\"1rem\",\"margin-bottom\":\"2rem\",\"text-align\":\"center\"}},[_vm._v(\"创建你的问卷\")]),_c('div',{staticClass:\"title-wrapper\"},[_c('h3',{staticStyle:{\"margin-bottom\":\"1rem\"}},[_vm._v(\"标题\")]),_c('Input',{staticStyle:{\"width\":\"45%\",\"min-width\":\"400px\",\"max-width\":\"500px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入问卷标题\",\"size\":\"large\"},model:{value:(_vm.currentQuestionnaire.title),callback:function ($$v) {_vm.$set(_vm.currentQuestionnaire, \"title\", $$v)},expression:\"currentQuestionnaire.title\"}}),_c('h3',{staticStyle:{\"margin\":\"1rem 0 1rem 0\"}},[_vm._v(\"描述\")]),_c('Input',{staticStyle:{\"width\":\"45%\",\"min-width\":\"400px\",\"max-width\":\"500px\"},attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入问卷描述\"},model:{value:(_vm.currentQuestionnaire.summary),callback:function ($$v) {_vm.$set(_vm.currentQuestionnaire, \"summary\", $$v)},expression:\"currentQuestionnaire.summary\"}})],1),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"width\":\"45%\",\"min-width\":\"400px\",\"max-width\":\"500px\",\"margin\":\"0 auto\"}},[_c('div',{staticClass:\"bounty-wrapper\",staticStyle:{\"width\":\"70%\"}},[_c('h3',{staticStyle:{\"margin-bottom\":\"1rem\"}},[_vm._v(\"报酬\")]),_c('Input',{attrs:{\"prefix\":\"logo-usd\",\"size\":\"large\"},model:{value:(_vm.currentQuestionnaire.bounty),callback:function ($$v) {_vm.$set(_vm.currentQuestionnaire, \"bounty\", $$v)},expression:\"currentQuestionnaire.bounty\"}})],1),_c('div',{staticClass:\"limit-wrapper\",staticStyle:{\"width\":\"25%\"}},[_c('h3',{staticStyle:{\"margin-bottom\":\"1rem\"}},[_vm._v(\"人数限制\")]),_c('InputNumber',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"large\",\"max\":400,\"min\":1},model:{value:(_vm.currentQuestionnaire.limit),callback:function ($$v) {_vm.$set(_vm.currentQuestionnaire, \"limit\", $$v)},expression:\"currentQuestionnaire.limit\"}})],1)]),_c('div',{staticClass:\"questions-wrapper\"},[(_vm.currentQuestionnaire.content.length === 0)?_c('h3',{staticStyle:{\"text-align\":\"center\",\"height\":\"180px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"vertical-align\":\"middle\"}},[_c('span',[_vm._v(\"你的问卷还没有任何问题哦，点击左下方的“+”按钮创建吧！\")])]):_c('h3',[_vm._v(\"问题\")]),_vm._l((_vm.currentQuestionnaire.content),function(content,idx){return _c('Card',{key:'content' + idx + Math.random(),staticStyle:{\"margin\":\"1rem 0 0 0\",\"width\":\"45%\",\"min-width\":\"400px\",\"max-width\":\"500px\"},attrs:{\"dis-hover\":true}},[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"flex-end\"}},[_c('Button',{staticStyle:{\"padding\":\"0\"},attrs:{\"type\":\"text\",\"icon\":\"md-close\"},on:{\"click\":function($event){return _vm.delQuestion(idx)}}})],1),_c('question-form',{attrs:{\"inputContent\":content,\"mode\":\"edit\",\"index\":idx},on:{\"modifyQuestion\":_vm.modifyQuestionHandler}})],1)})],2),(_vm.questionnaireExisted)?_c('div',{staticClass:\"submit-btn-wrapper\"},[_c('Button',{staticStyle:{\"margin-right\":\"1rem\"},on:{\"click\":function($event){_vm.showFinishDialog = true}}},[_vm._v(\"结束任务\")]),_c('Button',{staticStyle:{\"margin-right\":\"1rem\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.getQNaireStatics}},[_vm._v(\"查看填写情况\")]),_c('Modal',{attrs:{\"title\":\"结束任务\"},on:{\"on-ok\":_vm.finishTask},model:{value:(_vm.showFinishDialog),callback:function ($$v) {_vm.showFinishDialog=$$v},expression:\"showFinishDialog\"}},[_c('p',[_vm._v(\"确定结束任务吗？\")])])],1):_c('div',{staticClass:\"submit-btn-wrapper\"},[_c('Button',{staticStyle:{\"margin-right\":\"1rem\"},on:{\"click\":_vm.clear}},[_vm._v(\"重置\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createQuestionnaire}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"questionForm\",staticClass:\"question-creater\",attrs:{\"label-position\":\"right\",\"label-width\":90,\"model\":_vm.content,\"rules\":_vm.rules}},[_c('FormItem',{attrs:{\"label\":\"题目\",\"prop\":\"title\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":_vm.mode === 'edit' && !_vm.editAllow,\"placeholder\":\"输入题目\"},model:{value:(_vm.content.title),callback:function ($$v) {_vm.$set(_vm.content, \"title\", $$v)},expression:\"content.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"题目类型\"}},[_c('RadioGroup',{model:{value:(_vm.content.type),callback:function ($$v) {_vm.$set(_vm.content, \"type\", $$v)},expression:\"content.type\"}},[_c('Radio',{attrs:{\"label\":1,\"disabled\":_vm.mode === 'edit' && !_vm.editAllow}},[_vm._v(\"单选\")]),_c('Radio',{attrs:{\"label\":2,\"disabled\":_vm.mode === 'edit' && !_vm.editAllow}},[_vm._v(\"多选\")]),_c('Radio',{attrs:{\"label\":3,\"disabled\":_vm.mode === 'edit' && !_vm.editAllow}},[_vm._v(\"填空\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"是否必须填写\"}},[_c('RadioGroup',{model:{value:(_vm.isOptional),callback:function ($$v) {_vm.isOptional=$$v},expression:\"isOptional\"}},[_c('Radio',{attrs:{\"label\":1,\"disabled\":_vm.mode === 'edit' && !_vm.editAllow}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0,\"disabled\":_vm.mode === 'edit' && !_vm.editAllow}},[_vm._v(\"否\")])],1)],1),(_vm.content.type === 2)?_c('FormItem',{attrs:{\"label\":\"填写数量限制\"}},[_c('Slider',{attrs:{\"disabled\":_vm.mode === 'edit' && !_vm.editAllow,\"max\":_vm.content.options.length},model:{value:(_vm.content.limit),callback:function ($$v) {_vm.$set(_vm.content, \"limit\", $$v)},expression:\"content.limit\"}})],1):_vm._e(),(_vm.content.type !== 3)?_c('FormItem',{attrs:{\"label\":\"选项\",\"label-position\":\"top\",\"prop\":\"options\"}},[_vm._l((_vm.content.options),function(option,idx){return _c('div',{key:idx,staticClass:\"option-wrapper\",staticStyle:{\"margin-bottom\":\"8px\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":_vm.mode === 'edit' && !_vm.editAllow},model:{value:(_vm.content.options[idx]),callback:function ($$v) {_vm.$set(_vm.content.options, idx, $$v)},expression:\"content.options[idx]\"}}),(_vm.mode !== 'edit' || _vm.editAllow)?_c('Button',{staticStyle:{\"padding-right\":\"8px\",\"padding-left\":\"8px\",\"margin-left\":\"2px\"},attrs:{\"type\":\"text\",\"icon\":\"md-close\"},on:{\"click\":function($event){return _vm.delOption(idx)}}}):_vm._e()],1)}),_c('Button',{attrs:{\"disabled\":_vm.mode === 'edit' && !_vm.editAllow},on:{\"click\":_vm.addNewOption}},[_vm._v(\"添加\")])],2):_vm._e(),_c('FormItem',{staticStyle:{\"margin-bottom\":\"0\"},attrs:{\"id\":\"q-submit\"}},[(_vm.mode === 'edit')?_c('Button',{staticStyle:{\"margin-right\":\"1rem\"},on:{\"click\":function($event){_vm.editAllow = !_vm.editAllow}}},[_vm._v(\"\\n      \"+_vm._s(_vm.editAllow ? '正在编辑' : '编辑')+\"\\n    \")]):_vm._e(),_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.mode === 'edit' && !_vm.editAllow},on:{\"click\":_vm.submitQuestion}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { IQuestionnaireContent } from '@/typings/publish';\r\nimport { Form } from 'iview/types/form';\r\n\r\n@Component({\r\n  name: 'question-form'\r\n})\r\nexport default class QuestionForm extends Vue {\r\n  @Prop({\r\n    required: true\r\n  })\r\n  inputContent !: IQuestionnaireContent;\r\n\r\n  content: IQuestionnaireContent = {\r\n    title: '',\r\n    type: 1,\r\n    options: [],\r\n    optional: true,\r\n    limit: 1,\r\n    answer: []\r\n  };\r\n\r\n  @Prop({\r\n    required: true,\r\n    type: String\r\n  })\r\n  mode !: 'create' | 'edit';\r\n\r\n  @Prop({\r\n    required: false,\r\n    type: Number\r\n  })\r\n  index !: number;\r\n\r\n  editAllow: boolean = false;\r\n\r\n  get isOptional() {\r\n    return this.content.optional ? 1 : 0;\r\n  }\r\n\r\n  set isOptional(newVal: number) {\r\n    if (newVal === 1) {\r\n      this.content.optional = true;\r\n    } else {\r\n      this.content.optional = false;\r\n    }\r\n  }\r\n\r\n  rules = {\r\n    title: [\r\n      { required: true, message: '题目不能为空', trigger: 'blur' }\r\n    ],\r\n    options: [\r\n      {\r\n        required: true, message: '选项不能为空',\r\n        validator: (rule: any, value: string[], callback: any) => {\r\n          if (this.content.type !== 3 && value.length === 0) {\r\n            callback(new Error('选项不能为空'));\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  };\r\n\r\n  addNewOption() {\r\n    this.content.options.push('new options');\r\n  }\r\n\r\n  delOption(index: number) {\r\n    this.content.options.splice(index, 1);\r\n  }\r\n\r\n  submitQuestion() {\r\n    (this.$refs.questionForm as Form).validate((isValid) => {\r\n      if (isValid) {\r\n        this.$Notice.success({\r\n          title: '成功',\r\n          duration: 2\r\n        });\r\n        if (this.mode === 'create') {\r\n          this.$emit('createNewQuestion', Object.assign({}, this.content));\r\n          this.clear();\r\n          this.content.options = [];\r\n        } else {\r\n          this.editAllow = false;\r\n          this.$emit('modifyQuestion', Object.freeze(this.content), this.index);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this.content.title = this.inputContent.title;\r\n    this.content.type = this.inputContent.type;\r\n    this.content.optional = this.inputContent.optional;\r\n    this.content.limit = this.inputContent.limit;\r\n    this.inputContent.options.forEach((val: string) => {\r\n      this.content.options.push(val);\r\n    });\r\n  }\r\n\r\n  mounted() {\r\n    this.clear();\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QuestionForm.vue?vue&type=template&id=11c2993a&\"\nimport script from \"./QuestionForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./QuestionForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./QuestionForm.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport { IQuestionnaireContent, IQuestionnaire } from '@/typings/publish';\r\nimport QuestionForm from '@/components/QuestionForm.vue';\r\nimport { CURRENT_USER_INFO } from '../../stores/modules/user/constants';\r\nimport {\r\n  POST_QUESTIONARE,\r\n  LOAD_QUESTIONARE_SUBMITS,\r\n  QUESTIONARE_SUBMITS_EXIST\r\n} from '../../stores/modules/questionnaire/constants';\r\nimport { ITask } from '@/typings/task';\r\nimport { GET_ALL_TASKS_OWN, FINISH_TASK } from '@/stores/modules/task/constants';\r\nimport {\r\n  LOAD_QUESTIONARE,\r\n  GET_CURRENT_QUESTIONARE,\r\n  RECEIVE_QUESTIONARE\r\n} from '@/stores/modules/questionnaire/constants';\r\nimport store from '@/stores';\r\n\r\n@Component({\r\n  name: 'publish-questionnaire',\r\n  components: {\r\n    QuestionForm\r\n  }\r\n})\r\nexport default class Publish extends Vue {\r\n  showCreaterDialog: boolean = false;\r\n  showFinishDialog = false;\r\n  questionnaireExisted = false;\r\n\r\n  plainContent: IQuestionnaireContent = {\r\n    title: '',\r\n    type: 1,\r\n    options: [],\r\n    optional: true,\r\n    limit: 1,\r\n    answer: []\r\n  };\r\n\r\n  currentQuestionnaire: IQuestionnaire = {\r\n    title: '',\r\n    publisher_id: -1,\r\n    summary: '',\r\n    bounty: 0,\r\n    content: [],\r\n    type: 'TASK_TYPE_SURVEY',\r\n    limit: 1\r\n  };\r\n\r\n  newQuestionHandler(content: IQuestionnaireContent) {\r\n    this.showCreaterDialog = false;\r\n    if (this.currentQuestionnaire.content) {\r\n      this.currentQuestionnaire.content.push(content);\r\n    }\r\n  }\r\n\r\n  modifyQuestionHandler(content: IQuestionnaireContent, index: number) {\r\n    if (this.currentQuestionnaire.content) {\r\n      this.currentQuestionnaire.content[index] = content;\r\n    }\r\n  }\r\n\r\n  createQuestion() {\r\n    this.showCreaterDialog = true;\r\n  }\r\n\r\n  async createQuestionnaire() {\r\n    if (this.currentQuestionnaire.title.length === 0) {\r\n      this.$Notice.error({\r\n        title: '标题不能为空',\r\n        duration: 2\r\n      });\r\n      return;\r\n    } else if (this.currentQuestionnaire.summary.length === 0) {\r\n      this.$Notice.error({\r\n        title: '描述不能为空',\r\n        duration: 2\r\n      });\r\n      return;\r\n    } else if (this.currentQuestionnaire.content && this.currentQuestionnaire.content.length === 0) {\r\n      this.$Notice.error({\r\n        title: '题目不能为空',\r\n        duration: 2\r\n      });\r\n      return;\r\n    } else {\r\n      const result = await this.$store.dispatch(`questionnaire/${POST_QUESTIONARE}`,\r\n       Object.freeze({\r\n        title: this.currentQuestionnaire.title,\r\n        summary: this.currentQuestionnaire.summary,\r\n        limit: this.currentQuestionnaire.limit,\r\n        type: this.currentQuestionnaire.type,\r\n        content: this.currentQuestionnaire.content,\r\n        reward: this.currentQuestionnaire.bounty\r\n      }));\r\n      if (result === 'OK') {\r\n        this.$Notice.success({\r\n          title: '发布成功',\r\n          duration: 2\r\n        });\r\n        this.clear();\r\n        this.$router.push({name: 'tasks'});\r\n      } else {\r\n        this.$Notice.error({\r\n          title: result,\r\n          duration: 2\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  delQuestion(index: number) {\r\n    if (this.currentQuestionnaire.content) {\r\n      this.currentQuestionnaire.content.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.currentQuestionnaire = {\r\n      title: '',\r\n      publisher_id: -1,\r\n      summary: '',\r\n      bounty: 0,\r\n      content: [],\r\n      type: 'TASK_TYPE_SURVEY',\r\n      limit: 1\r\n    };\r\n  }\r\n\r\n  async mounted() {\r\n    let uid = -1;\r\n    if (this.$store.getters[`user/${CURRENT_USER_INFO}`] !== null) {\r\n      uid = this.currentQuestionnaire.publisher_id = this.$store.getters[`user/${CURRENT_USER_INFO}`].uid;\r\n    }\r\n    if (this.$route.name === 'published-questionnaire-detail') {\r\n      await this.$store.dispatch(`questionnaire/${LOAD_QUESTIONARE}`, this.$route.params.aid);\r\n      this.currentQuestionnaire = this.$store.getters[`questionnaire/${GET_CURRENT_QUESTIONARE}`];\r\n      this.questionnaireExisted = true;\r\n    }\r\n  }\r\n\r\n  async getQNaireStatics() {\r\n    await this.$store.dispatch(`questionnaire/${LOAD_QUESTIONARE_SUBMITS}`, this.$route.params.aid);\r\n    if (this.$store.getters[`questionnaire/${QUESTIONARE_SUBMITS_EXIST}`]) {\r\n      this.$router.push( {name: 'questionnaire-statistics', params: {aid: this.$route.params.aid} });\r\n    } else {\r\n       this.$Notice.error({\r\n        title: '暂时无人填写问卷',\r\n        duration: 2\r\n      });\r\n    }\r\n  }\r\n\r\n  async finishTask() {\r\n    const result = await this.$store.dispatch(`task/${FINISH_TASK}`, this.$route.params.aid);\r\n    if (result === 'OK') {\r\n      this.$Notice.success({\r\n        title: '操作成功'\r\n      });\r\n      this.$router.push({name: 'a-published'});\r\n    } else {\r\n      this.$Notice.error({\r\n        title:  result && result.msg || 'fail'\r\n      });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishQuestionnaire.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishQuestionnaire.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PublishQuestionnaire.vue?vue&type=template&id=18eb2e18&scoped=true&\"\nimport script from \"./PublishQuestionnaire.vue?vue&type=script&lang=ts&\"\nexport * from \"./PublishQuestionnaire.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PublishQuestionnaire.vue?vue&type=style&index=0&id=18eb2e18&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18eb2e18\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionForm.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionForm.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishQuestionnaire.vue?vue&type=style&index=0&id=18eb2e18&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishQuestionnaire.vue?vue&type=style&index=0&id=18eb2e18&lang=less&scoped=true&\""],"sourceRoot":""}